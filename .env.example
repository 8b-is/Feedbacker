# üö¢ Feedbacker Environment Configuration
# Copy this to .env and fill in your values!
# Created with love by Aye & Hue! ‚õµ

# ===========================================
# üóÑÔ∏è Database Configuration
# ===========================================
# For Docker: postgresql://feedbacker:feedbacker_secret@postgres:5432/feedbacker_db
# For local dev: postgresql://feedbacker:password@localhost:5432/feedbacker_db
DATABASE_URL=postgresql://feedbacker:feedbacker_secret@postgres:5432/feedbacker_db
DATABASE_MAX_CONNECTIONS=10
DATABASE_CONNECTION_TIMEOUT_SECONDS=30
DATABASE_AUTO_MIGRATE=true

# ===========================================
# üåê Server Configuration
# ===========================================
SERVER_ADDRESS=0.0.0.0:3000
SERVER_TIMEOUT_SECONDS=30
SERVER_MAX_BODY_SIZE=1048576
ENVIRONMENT=development

# ===========================================
# üêô GitHub Configuration (for aye-is account)
# ===========================================
# IMPORTANT: Token needs repo, workflow, and write permissions
GITHUB_TOKEN=ghp_your_token_here
GITHUB_USERNAME=aye-is
GITHUB_SSH_PRIVATE_KEY_PATH=/home/feedbacker/.ssh/id_rsa
GITHUB_API_BASE_URL=https://api.github.com
GITHUB_DEFAULT_BRANCH_PREFIX=feedbacker/

# ===========================================
# üîê Authentication
# ===========================================
# Generate with: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-that-is-at-least-32-characters-long
JWT_TOKEN_EXPIRATION_HOURS=24
PASSWORD_SALT_ROUNDS=12
ENABLE_REGISTRATION=true

# ===========================================
# üî¥ Redis Configuration (optional but recommended)
# ===========================================
# For Docker: redis://redis:6379
# For local: redis://localhost:6379
REDIS_URL=redis://redis:6379

# ===========================================
# ü§ñ LLM API Keys (add as needed)
# ===========================================
OPENAI_API_KEY=
OPENAI_DEFAULT_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

ANTHROPIC_API_KEY=
ANTHROPIC_DEFAULT_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=2000

LLM_DEFAULT_PROVIDER=openai
LLM_TIMEOUT_SECONDS=60
LLM_MAX_RETRIES=3

# ===========================================
# üö¶ Rate Limiting
# ===========================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_FEEDBACK_PER_HOUR=10
RATE_LIMIT_BURST_SIZE=10
RATE_LIMIT_WINDOW_SECONDS=60

# ===========================================
# ü™ù Webhook Configuration
# ===========================================
# Generate with: openssl rand -hex 32
WEBHOOK_SECRET=your-webhook-secret-here

# ===========================================
# üìä Logging
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=pretty
LOG_REQUESTS=true
RUST_LOG=info,feedbacker=debug

# ===========================================
# üîß Feature Flags
# ===========================================
ENABLE_BACKGROUND_JOBS=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_WEB_UI=true
ENABLE_GITHUB_WEBHOOKS=true
ENABLE_METRICS=true
ENABLE_DEV_FEATURES=false

# ===========================================
# üìß Email Configuration (optional)
# ===========================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USERNAME=
# SMTP_PASSWORD=
# FROM_EMAIL=noreply@feedbacker.com
# SMTP_USE_TLS=true

# ===========================================
# üê≥ Docker-specific settings
# ===========================================
# Path to SSH keys for mounting into container
SSH_KEY_PATH=./ssh
